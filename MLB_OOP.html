<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
<script>
function coaches(){
	this.coachName="Name";
	this.recordI=0;
	this.invFeesTota=0;
	this.invFeesCoun=0;
	this.pocFeesTota=0;
	this.pocFeesCoun=0;
	this.ocFeesTota=0;
	this.ocFeesCount=0
}

 var url = "https://team.quickbase.com";     // Remember to put in YOUR baseURL
  url    += "/db/";
  url    += "bk9j6sa8r";                                   // Remember to put in YOUR tableDBID
  url    += "?a=API_DoQuery";

  var request = "<qdbapi>";
  request    += "<usertoken>b287yg_uyp_dsagzw8b755gx7bvr8hfmdp3fu53</usertoken>";            // Remember to put in YOUR appToken
  request    += "</qdbapi>";

var coachArray=[]; 

$.ajax({
type: "POST",
contentType: "text/xml",
async: false,
url: url,
dataType: "xml",
processData: false,
data: request,
			    success: function (response) {

			     var xml = $(response); //Convert response to XML Code
			     if (xml.find('qdbapi').find('errcode').text() == "0") {
				
					var cast = 0; 
			//Looping Through Response Begins Below
									  	 xml.find('qdbapi').find('record').each(function(index){	
									  	 	var x = new coaches("Test",0,0,0,0,0,0,0); 
									  	 	x.coachName=$(this).find("full_name").text();
									  	 	x.recordID=$(this).find("record_id_").text();
										    console.log("Coach Name = " + $(this).find("full_name").text());
									    	console.log("Record ID = " + $(this).find("record_id_").text());
									    	coachArray.push(x);
									    	console.log(coachArray);
											console.log("\n\n");
									 	});//End XML Loop
				console.log(coachArray);
			 	}
			    else 
			    {
			     console.log("Quickbase returned an error.");
			     console.log(response);
			   } 
			 },
error: function (response)
	{
	console.log("Quickbase returned an error.");
	console.log(response);
	}
});

</script>


