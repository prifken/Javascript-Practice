<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs-3.3.7/jq-2.2.4/dt-1.10.13/datatables.min.css"/>

<script type="text/javascript" src="https://cdn.datatables.net/v/bs-3.3.7/jq-2.2.4/dt-1.10.13/datatables.min.js"></script>

<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>The Lost Search</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">


<script type="text/javascript">


function apps(){
	this.appfeatures="features";
	this.appkeys="key words";
	this.applink="link";
	this.appID="Record ID"; 
}

var url_apps = "https://team.quickbase.com";     // Remember to put in YOUR baseurl_opps
  url_apps    += "/db/";
  url_apps    += "bmndjxzq4";  //Opps DBID
  url_apps    += "?a=API_DoQuery";
  var request = "<qdbapi>";
  request    += "<usertoken>b287yg_uyp_dsagzw8b755gx7bvr8hfmdp3fu53</usertoken>";            // Remember to put in YOUR 
  request    += "</qdbapi>";

var appArray=[]; 

$.ajax({
type: "POST",
contentType: "text/xml",
async: false,
url: url_apps,
dataType: "xml",
processData: false,
data: request,
			    success: function (response) {
			     var xml = $(response); //Convert response to XML Code
			     if (xml.find('qdbapi').find('errcode').text() == "0") {
				
					
			//Looping Through Response Begins Below
									  	 xml.find('qdbapi').find('record').each(function(index){	
									  	 	//var x = new apps("Test","Test", "Test", "Test"); 
									  	 	appArray.push([
									  	 		$(this).find("features").text(),
									  	 		$(this).find("key_words").text(),
									  	 		$(this).find("link_to_app").text(),
									  	 		$(this).find("record_id_").text()
									  	 		]);
									 	});//End XML Loop

									  	 /*
									  	 testarray.push([
									    		$(this).find("opportunity_name").text(),
									    		$(this).find("opportunity_id").text(),
									    		$(this).find("close_quarter").text(),
									    		$(this).find("forecasted_monthly_fees").text(),
									    		"<a href=https://team.quickbase.com/db/bdms4889h?a=dr&rid="+$(this).find("opportunity_id").text()+"&rl=zth target='_blank'>"+$(this).find("opportunity_id").text()+"</a>",
									    		$(this).find("current_opportunity_stage").text(),
									    		$(this).find("coach_name").text(),
									    		$(this).find("company_name").text(),
									    		$(this).find("primary_contact___name").text()
									    		]);*/
				console.log(appArray);
				
           // alert(coachArray);
			 	}
			    else 
			    {
			     console.log("Quickbase returned an error.");
			     console.log(response);
			   } 
			 },
error: function (response)
	{
	console.log("Quickbase returned an error.");
	console.log(response);
	}
});


</script>
</head>

<body>
<!--BODY-CODE-->
<table id="example" class="cell-border hover" cellspacing="0" width="100%">
	<tfoot>
            <tr>
                <th>Features</th>
                <th>Key Words</th>
                <th>Link</th>
                <th>Record ID</th>
            </tr>
        </tfoot>
</table>
   
 
<script>

$(document).ready(function() {
    var table=$('#example').DataTable({
    	data:appArray,
    	"pageLength": 25,
    	 columns: [
            { title: "Features" },
            { title: "Key Words" },
            { title: "Link" },
            { title: "Record ID" },
            
        
        ],
        order:[[1,'desc']],
        initComplete: function () {
       		$('#example tfoot th').each( function () {
        	var title = $(this).text();
        	console.log(title);
        	console.log("\n");
        	$(this).html( '<input type="text" placeholder="Search '+title+'" />' );
    			});
      	   }
    } );

 	table.columns().every( function () {
        var that = this;
 
        $( 'input', this.footer() ).on( 'keyup change', function () {
            if ( that.search() !== this.value ) {
                that
                    .search( this.value )
                    .draw();
            }
       		 } );
    	} );
} );

</script>
</body>
</html>



<script>


</script>